// eventsData.js - Contains all (( events )) data
var eventsData = [
    {
        id: 1,
        title: "معرض دمشق الدولي",
        date: "2025-08-27",
        time: "10:00 صباحاً - 10:00 مساءً",
        location: "أرض المعارض - مدينة المعارض",
        city: "دمشق",
        category: "معارض",
        price: "0",
        description: "معرض دمشق الدولي هو أحد أقدم وأهم المعارض في المنطقة، يضم مشاركات من مختلف الدول العربية والأجنبية ويعرض أحدث المنتجات والتقنيات في مجالات متعددة.",
        image: "damascus_exhibition.webp",
        featured: true,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3326.522158214074!2d36.2765279!3d33.513807299999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1518e16302cf2971%3A0xa5ef0ce61ef01516!2z2YXYr9mK2YbYqSDYp9mE2YXYudin2LHYtg!5e0!3m2!1sen!2s!4v1759406355548!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 2,
        title: "مهرجان بصرى الدولي",
        date: "2025-07-15",
        time: "07:00 مساءً - 11:00 مساءً",
        location: "مسرح بصرى الأثري",
        city: "درعا",
        category: "فنون",
        price: "0",
        description: "مهرجان بصرى الدولي للفنون المسرحية والموسيقية، يقام في المسرح الروماني الأثري ببصرى ويضم عروضاً محلية وعربية ودولية.",
        image: "bosra_festival.webp",
        featured: true,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3364.317017081226!2d36.478827675493264!3d32.517679073773024!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151bced7bd045a2b%3A0xadef0df71dcf588c!2sRoman%20Theater%2C%20Bosra%20Archaeological%20Site!5e0!3m2!1sen!2s!4v1759406453077!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 3,
        title: "ماراثون دمشق الدولي",
        date: "2025-11-07",
        time: "07:00 صباحاً - 12:00 ظهراً",
        location: "فايز منصور - بداية السباق",
        city: "دمشق",
        category: "رياضة",
        price: "90000",
        description: "ماراثون رياضي بمشاركة محلية ودولية، يشمل مسارات مختلفة للمحترفين والهواة، ويهدف إلى نشر ثقافة الرياضة والصحة بين جميع الفئات.",
        image: "damascus_marathon.webp",
        featured: true,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3326.672438530773!2d36.291030975536344!3d33.50989847336591!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1518e0cd2d5371eb%3A0x550832f5cd4052d5!2sFayez%20Mansour!5e0!3m2!1sen!2s!4v1759406530477!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 4,
        title: "مهرجان الوادي للسياحة",
        date: "2025-07-20",
        time: "08:00 صباحاً - 08:00 مساءً",
        location: "وادي النضارة",
        city: "حمص",
        category: "مهرجانات",
        price: "0",
        description: "مهرجان الوادي للسياحة يشمل معارض للصناعات التقليدية والحرف اليدوية، وعروض فنية وتراثية، وأنشطة ترفيهية للعائلة.",
        image: "wadi_festival.webp",
        featured: false,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d26214.914032388417!2d36.26754355232001!3d34.78419249398931!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1z2YLZhNi52Kkg2KfZhNit2LXZhg!5e0!3m2!1sen!2s!4v1759406865268!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 5,
        title: "مؤتمر التكنولوجيا والابتكار",
        date: "2026-01-12",
        time: "09:00 صباحاً - 05:00 مساءً",
        location: "فندق داما روز",
        city: "دمشق",
        category: "مؤتمرات",
        price: "10000",
        description: "مؤتمر يهدف إلى عرض أحدث التطورات التكنولوجية والابتكارات في مجال تكنولوجيا المعلومات والاتصالات، بمشاركة خبراء محليين ودوليين.",
        image: "tech_conference.webp",
        featured: true,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3326.5140569373916!2d36.28008118264441!3d33.514018004686456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1518e7355fec23c1%3A0x3f951decdbfa1342!2sDama%20Rose%20Hotel!5e0!3m2!1sen!2s!4v1759406919997!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 6,
        title: "معرض الزهور والنباتات",
        date: "2025-06-12",
        time: "09:00 صباحاً - 08:00 مساءً",
        location: "حديقة السبكي",
        city: "دمشق",
        category: "معارض",
        price: "500",
        description: "معرض متخصص بالزهور والنباتات بمختلف أنواعها، يضم مشاتل ومنتجين محليين، وورش عمل عن الزراعة المنزلية والعناية بالنباتات.",
        image: "flowers_exhibition.webp",
        featured: false,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3326.320533528836!2d36.28589047553685!3d33.51905097336236!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1518e7371b99333b%3A0xa5b08ff9776cf675!2sSibky%20Park!5e0!3m2!1sen!2s!4v1759406973047!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 7,
        title: "مهرجان اللاذقية السينمائي",
        date: "2025-09-25",
        time: "06:00 مساءً - 11:00 مساءً",
        location: "مسرح دار الفيحاء للثقافة",
        city: "اللاذقية",
        category: "سينما",
        price: "2000",
        description: "مهرجان سينمائي يعرض أفلاماً سورية وعربية ودولية، ويشمل ندوات وورش عمل عن صناعة السينما، ويقام في دار الفيحاء للثقافة باللاذقية.",
        image: "cinema_festival.webp",
        featured: false,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3247.4969921067795!2d35.7742987756272!3d35.51671417264082!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1526adb646e9b765%3A0xa16794f09265fb20!2sNational%20Theatre%20Center%20of%20Lattakia!5e0!3m2!1sen!2s!4v1759407159615!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        id: 8,
        title: "معرض الكتاب الدولي",
        date: "2025-10-10",
        time: "09:00 صباحاً - 09:00 مساءً",
        location: "أرض المعارض - مدينة المعارض",
        city: "دمشق",
        category: "معارض",
        price: "1000",
        description: "معرض الكتاب الدولي في دمشق يضم مئات دور النشر المحلية والعربية والعالمية، ويقدم أنشطة ثقافية متنوعة وندوات وورش عمل.",
        image: "book_fair.webp",
        featured: false,
        map_frame: '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6653.0362562747605!2d36.27132701316454!3d33.5139121177052!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1518e16302cf2971%3A0xa5ef0ce61ef01516!2z2YXYr9mK2YbYqSDYp9mE2YXYudin2LHYtg!5e0!3m2!1sen!2s!4v1759408416100!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    }
];

// Utility functions

/* Format date string to localized Arabic format */
function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('ar-SY', options);
}

/* Get all featured events from eventsData */
function getFeaturedEvents() {
    return eventsData.filter(event => event.featured);
}

/* Get events by specific category */
function getEventsByCategory(category) {
    return eventsData.filter(event => event.category === category);
}

/* Get events by specific city */
function getEventsByCity(city) {
    return eventsData.filter(event => event.city === city);
}

/* Find event by ID */
function getEventById(id) {
    return eventsData.find(event => event.id == id);
}

// Common functions used across all pages
function initCommonFunctionality() {
    // Landing Page logic
    if (!sessionStorage.getItem('landingShown')) {
        $('header, main, footer').hide();
        $('#landingPage').show();
        
        setTimeout(function () {
            $('#landingPage').fadeOut(600, function () {
                $('header, main, footer').fadeIn(600);
            });
            sessionStorage.setItem('landingShown', 'true');
        }, 4000); // Duration of Landing Page is 4s
    } else {
        $('#landingPage').remove();
    }

    // Mobile menu toggle
    $('#hamburger').click(function () {
        $('#navMenu').toggleClass('active');
    });

    // Back to top button
    $(window).scroll(function () {
        if ($(this).scrollTop() > 100) {
            $('#backToTop').addClass('show');
        } else {
            $('#backToTop').removeClass('show');
        }
    });

    $('#backToTop').click(function () {
        $('html, body').animate({ scrollTop: 0 }, 800);
        return false;
    });

    // Prevent right-click
    $(document).bind('contextmenu', function (e) {
        showToast('الحقوق محفوظة © دليل فعاليات المدينة');
        return false;
    });
}

// Show toast message
function showToast(message) {
    // Create toast element
    var toast = $('<div>', {
        class: 'toast-message',
        text: message,
        css: {
            position: 'fixed',
            top: '20px',
            right: '20px',
            backgroundColor: 'rgb(207,244,252)',
            color: 'rgb(5,81,96)',
            padding: '10px 20px',
            borderRadius: '4px',
            zIndex: '9999',
            boxShadow: '0 2px 10px rgba(0,0,0,0.1)',
            fontWeight: 'bold'
        }
    });

    // Append to body
    $('body').append(toast);

    // Remove after 3 seconds
    setTimeout(function () {
        toast.fadeOut(function () {
            $(this).remove();
        });
    }, 3000);
}

// Initialize common functionality when document is ready
$(document).ready(function () {
    initCommonFunctionality();
    console.log("دليل فعاليات المدينة - لقد تم تحميل الموقع بنجاح");

});

